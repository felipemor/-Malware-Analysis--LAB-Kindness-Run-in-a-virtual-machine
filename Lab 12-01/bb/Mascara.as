class Mascara {
    public function setMascara(campo:Object, formato:String):Void {
        campo.restrict = "0-9";
        campo.maxChars = formato.length;
        var char:Array = new Array();
        for (var i = 0; i<formato.length; i++) {
            if (formato.charAt(i) != 0) {
                char.push({intervalo:i, caractere:formato.charAt(i)});}}
        function checaMascara() {
            for (var i = 0; i<char.length; i++) {
                if (!Key.isDown(Key.BACKSPACE)) {
                    if (campo.length == char[i].intervalo) {
                        campo.text += char[i].caractere;
                        Selection.setSelection(char[i].intervalo+1, char[i].intervalo+1);}}}}
        if (typeof (campo) == "movieclip") {
            var mListener:Object = new Object();
            mListener.change = function() {
                checaMascara();};
            campo.addEventListener("change", mListener);
        } else if (typeof (campo) == "object") {
            campo.onChanged = function() {
                checaMascara();};}}}